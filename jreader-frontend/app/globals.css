@tailwind base;
@tailwind components;
@tailwind utilities;

body {
  font-family: Arial, Helvetica, sans-serif;
}

@layer base {
  :root {
    --background: 0 0% 100%;
    --foreground: 0 0% 3.9%;
    --card: 0 0% 100%;
    --card-foreground: 0 0% 3.9%;
    --popover: 0 0% 100%;
    --popover-foreground: 0 0% 3.9%;
    --primary: 0 0% 9%;
    --primary-foreground: 0 0% 98%;
    --secondary: 0 0% 96.1%;
    --secondary-foreground: 0 0% 9%;
    --muted: 0 0% 96.1%;
    --muted-foreground: 0 0% 45.1%;
    --accent: 0 0% 96.1%;
    --accent-foreground: 0 0% 9%;
    --destructive: 0 84.2% 60.2%;
    --destructive-foreground: 0 0% 98%;
    --info: 55 80% 85%;
    --info-foreground: 0 0% 3.9%;
    --info-border: 43 96% 56%;
    --premium: #FFD700;
    --premium-foreground: #000000;
    --premium-icon: #DAA520;
    --border: 0 0% 89.8%;
    --input: 0 0% 89.8%;
    --ring: 0 0% 3.9%;
    --chart-1: 12 76% 61%;
    --chart-2: 173 58% 39%;
    --chart-3: 197 37% 24%;
    --chart-4: 43 74% 66%;
    --chart-5: 27 87% 67%;
    --radius: 0.5rem;
    --sidebar-background: 0 0% 98%;
    --sidebar-foreground: 240 5.3% 26.1%;
    --sidebar-primary: 240 5.9% 10%;
    --sidebar-primary-foreground: 0 0% 98%;
    --sidebar-accent: 240 4.8% 95.9%;
    --sidebar-accent-foreground: 240 5.9% 10%;
    --sidebar-border: 220 13% 91%;
    --sidebar-ring: 217.2 91.2% 59.8%;
    /* Kanji highlighting colors */
    --kanji-encountered: 60 100% 85%;
    --kanji-not-mined: 210 100% 89%;
    --kanji-known: 0 0% 0;
  }
  .dark {
    --background: 0 0% 3.9%;
    --foreground: 0 0% 98%;
    --card: 0 0% 3.9%;
    --card-foreground: 0 0% 98%;
    --popover: 0 0% 3.9%;
    --popover-foreground: 0 0% 98%;
    --primary: 0 0% 98%;
    --primary-foreground: 0 0% 9%;
    --secondary: 0 0% 14.9%;
    --secondary-foreground: 0 0% 98%;
    --muted: 0 0% 14.9%;
    --muted-foreground: 0 0% 63.9%;
    --accent: 0 0% 14.9%;
    --accent-foreground: 0 0% 98%;
    --destructive: 0 62.8% 30.6%;
    --destructive-foreground: 0 0% 98%;
    --info: 35 60% 40%;
    --info-foreground: 0 0% 98%;
    --info-border: 45 93% 47%;
    --premium: #B8860B;
    --premium-foreground: #FFFFFF;
    --premium-icon: #FFD700;
    --border: 0 0% 14.9%;
    --input: 0 0% 14.9%;
    --ring: 0 0% 83.1%;
    --chart-1: 220 70% 50%;
    --chart-2: 160 60% 45%;
    --chart-3: 30 80% 55%;
    --chart-4: 280 65% 60%;
    --chart-5: 340 75% 55%;
    --sidebar-background: 240 5.9% 10%;
    --sidebar-foreground: 240 4.8% 95.9%;
    --sidebar-primary: 224.3 76.3% 48%;
    --sidebar-primary-foreground: 0 0% 100%;
    --sidebar-accent: 240 3.7% 15.9%;
    --sidebar-accent-foreground: 240 4.8% 95.9%;
    --sidebar-border: 240 3.7% 15.9%;
    --sidebar-ring: 217.2 91.2% 59.8%;
    /* Kanji highlighting colors for dark mode */
    --kanji-encountered: 60 100% 15%;
    --kanji-not-mined: 210 100% 30%;
    --kanji-known: 0 0% 100%;
  }

  /* Solarized Light Theme */
  .solarized-light {
    --background: 44 100% 97%;
    --foreground: 44 10% 20%;
    --card: 44 100% 97%;
    --card-foreground: 44 10% 20%;
    --popover: 44 100% 97%;
    --popover-foreground: 44 10% 20%;
    --primary: 44 10% 20%;
    --primary-foreground: 44 100% 97%;
    --secondary: 44 20% 92%;
    --secondary-foreground: 44 10% 20%;
    --muted: 44 20% 92%;
    --muted-foreground: 44 10% 40%;
    --accent: 44 20% 92%;
    --accent-foreground: 44 10% 20%;
    --destructive: 0 84% 60%;
    --destructive-foreground: 44 100% 97%;
    --info: 55 90% 80%;
    --info-foreground: 0 0% 3.9%;
    --info-border: 43 96% 56%;
    --premium: #FFD700;
    --premium-foreground: #000000;
    --premium-icon: #DAA520;
    --border: 44 20% 85%;
    --input: 44 20% 85%;
    --ring: 44 10% 20%;
    --chart-1: 205 100% 50%;
    --chart-2: 160 100% 45%;
    --chart-3: 45 100% 55%;
    --chart-4: 280 100% 60%;
    --chart-5: 340 100% 55%;
    --sidebar-background: 44 20% 92%;
    --sidebar-foreground: 44 10% 20%;
    --sidebar-primary: 44 10% 20%;
    --sidebar-primary-foreground: 44 100% 97%;
    --sidebar-accent: 44 30% 88%;
    --sidebar-accent-foreground: 44 10% 20%;
    --sidebar-border: 44 20% 85%;
    --sidebar-ring: 44 10% 20%;
    /* Kanji highlighting colors for Solarized Light */
    --kanji-encountered: 60 100% 85%;
    --kanji-not-mined: 210 100% 89%;
    --kanji-known: 0 0% 0;
  }

  /* Solarized Dark Theme */
  .solarized-dark {
    --background: 193 100% 10%;
    --foreground: 193 10% 90%;
    --card: 193 100% 10%;
    --card-foreground: 193 10% 90%;
    --popover: 193 100% 10%;
    --popover-foreground: 193 10% 90%;
    --primary: 193 10% 90%;
    --primary-foreground: 193 100% 10%;
    --secondary: 193 100% 15%;
    --secondary-foreground: 193 10% 90%;
    --muted: 193 100% 15%;
    --muted-foreground: 193 10% 60%;
    --accent: 193 100% 15%;
    --accent-foreground: 193 10% 90%;
    --destructive: 0 62% 30%;
    --destructive-foreground: 193 10% 90%;
    --info: 35 92% 33%;
    --info-foreground: 193 10% 90%;
    --info-border: 45 93% 47%;
    --premium: #B8860B;
    --premium-foreground: #FFFFFF;
    --border: 193 100% 15%;
    --input: 193 100% 15%;
    --ring: 193 10% 80%;
    --chart-1: 205 100% 60%;
    --chart-2: 160 100% 55%;
    --chart-3: 45 100% 65%;
    --chart-4: 280 100% 70%;
    --chart-5: 340 100% 65%;
    --sidebar-background: 193 100% 15%;
    --sidebar-foreground: 193 10% 90%;
    --sidebar-primary: 193 10% 90%;
    --sidebar-primary-foreground: 193 100% 10%;
    --sidebar-accent: 193 100% 20%;
    --sidebar-accent-foreground: 193 10% 90%;
    --sidebar-border: 193 100% 15%;
    --sidebar-ring: 193 10% 80%;
    /* Kanji highlighting colors for Solarized Dark */
    --kanji-encountered: 60 100% 25%;
    --kanji-not-mined: 210 100% 30%;
    --kanji-known: 0 0% 100%;
  }

  /* Asuka Theme - Neon Genesis Evangelion inspired */
  .asuka {
    --background: 0 100% 15%;
    --foreground: 0 0% 95%;
    --card: 0 100% 20%;
    --card-foreground: 0 0% 95%;
    --popover: 0 100% 20%;
    --popover-foreground: 0 0% 95%;
    --primary: 0 100% 60%;
    --primary-foreground: 0 100% 15%;
    --secondary: 0 100% 25%;
    --secondary-foreground: 0 0% 95%;
    --muted: 0 100% 30%;
    --muted-foreground: 0 0% 95%;
    --accent: 25 100% 70%;
    --accent-foreground: 0 100% 15%;
    --destructive: 0 84% 70%;
    --destructive-foreground: 0 0% 95%;
    --info: 35 80% 80%;
    --info-foreground: 0 100% 15%;
    --info-border: 25 100% 60%;
    --premium: #B8860B;
    --premium-foreground: #FFFFFF;
    --border: 0 100% 20%;
    --input: 0 100% 25%;
    --ring: 0 100% 60%;
    --chart-1: 0 100% 70%;
    --chart-2: 25 100% 75%;
    --chart-3: 0 100% 80%;
    --chart-4: 25 100% 85%;
    --chart-5: 0 100% 90%;
    --sidebar-background: 0 100% 18%;
    --sidebar-foreground: 0 0% 95%;
    --sidebar-primary: 0 100% 60%;
    --sidebar-primary-foreground: 0 100% 15%;
    --sidebar-accent: 25 100% 50%;
    --sidebar-accent-foreground: 0 100% 15%;
    --sidebar-border: 0 100% 25%;
    --sidebar-ring: 0 100% 60%;
    /* Kanji highlighting colors for Asuka theme */
    --kanji-encountered: 280 100% 25%;
    --kanji-not-mined: 120 100% 20%;
    --kanji-known: 0 0% 100%;
  }
}

@layer base {
  * {
    @apply border-border;
  }
  body {
    @apply bg-background text-foreground;
  }
}

@layer base {
  * {
    @apply border-border outline-ring/50;
  }
  body {
    @apply bg-background text-foreground;
  }
}

@layer utilities {
  .bg-info {
    background-color: hsl(var(--info));
  }
  .text-info-foreground {
    color: hsl(var(--info-foreground));
  }
  .border-info {
    border-color: hsl(var(--info-border));
  }
  .border-l-info {
    border-left-color: hsl(var(--info-border));
  }
  .bg-info\/20 {
    background-color: hsl(var(--info) / 0.2);
  }
  .hover\:bg-info\/30:hover {
    background-color: hsl(var(--info) / 0.3);
  }
}

.eink-mode * {
  transition: none !important;
  animation: none !important;
}

.eink-mode [data-state] {
  transition: none !important;
  animation: none !important;
}

.eink-mode .animate-pulse {
  animation: none !important;
}

/* Ensure switches still work in e-ink mode */
.eink-mode [data-state="checked"],
.eink-mode [data-state="unchecked"] {
  transition: none !important;
}

/* Kanji highlighting styles for SearchPane */
[data-kanji] {
  cursor: pointer !important;
  position: relative !important;
  z-index: 1 !important;
}

.kanji-encountered {
  background-color: hsl(var(--kanji-encountered)) !important;
}

.kanji-not-mined {
  background-color: hsl(var(--kanji-not-mined)) !important;
}

.kanji-known {
  background-color: transparent !important;
}

/* Ensure kanji highlighting works in all themes */
.solarized-light .kanji-encountered {
  background-color: hsl(60 100% 85%) !important;
}

.solarized-light .kanji-not-mined {
  background-color: hsl(210 100% 89%) !important;
}

.solarized-light .kanji-known {
  background-color: transparent !important;
}

.solarized-dark .kanji-encountered {
  background-color: hsl(60 100% 25%) !important;
}

.solarized-dark .kanji-not-mined {
  background-color: hsl(210 100% 30%) !important;
}

.solarized-dark .kanji-known {
  background-color: transparent !important;
}

/* Asuka theme kanji highlighting */
.asuka .kanji-encountered {
  background-color: hsl(280 100% 25%) !important;
}

.asuka .kanji-not-mined {
  background-color: hsl(120 100% 20%) !important;
}

.asuka .kanji-known {
  background-color: transparent !important;
}

/* Custom kanji grid colors for better theme support */
.solarized-dark .bg-green-100 {
  background-color: hsl(142 76% 36% / 0.6) !important;
}

.solarized-dark .bg-yellow-50 {
  background-color: hsl(48 96% 53% / 0.6) !important;
}

.solarized-dark .text-green-800 {
  color: hsl(142 76% 70%) !important;
}

.solarized-dark .text-yellow-800 {
  color: hsl(48 96% 85%) !important;
}

/* Custom hover styles for kanji grid */
.solarized-dark .bg-green-100:hover {
  background-color: hsl(142 76% 45% / 0.8) !important;
}

.solarized-dark .bg-yellow-50:hover {
  background-color: hsl(48 96% 60% / 0.8) !important;
}

/* Regular dark theme hover styles */
.dark .bg-green-100:hover {
  background-color: hsl(142 76% 25% / 0.8) !important;
}

.dark .bg-yellow-50:hover {
  background-color: hsl(48 96% 40% / 0.8) !important;
}

/* Asuka theme kanji grid colors */
.asuka .bg-green-100 {
  background-color: hsl(280 100% 30% / 0.6) !important;
}

.asuka .bg-yellow-50 {
  background-color: hsl(120 100% 25% / 0.6) !important;
}

/* E-ink mode underlining for SearchPane */
.eink-mode .kanji-encountered {
  background-color: transparent !important;
  position: relative !important;
}

.eink-mode .kanji-encountered::after {
  content: '' !important;
  position: absolute !important;
  bottom: -2px !important;
  left: 0 !important;
  right: 0 !important;
  height: 3px !important;
  background-color: #999999 !important;
  pointer-events: none !important;
}

.eink-mode .kanji-not-mined {
  background-color: transparent !important;
  position: relative !important;
}

.eink-mode .kanji-not-mined::after {
  content: '' !important;
  position: absolute !important;
  bottom: -2px !important;
  left: 0 !important;
  right: 0 !important;
  height: 3px !important;
  background-color: #000000 !important;
  pointer-events: none !important;
}

.eink-mode .kanji-known {
  background-color: transparent !important;
}

/* Dark theme e-ink mode underlining */
.dark.eink-mode .kanji-encountered::after {
  background-color: #666666 !important;
}

.dark.eink-mode .kanji-not-mined::after {
  background-color: #ffffff !important;
}

.asuka .text-green-800 {
  color: hsl(280 100% 60%) !important;
}

.asuka .text-yellow-800 {
  color: hsl(120 100% 50%) !important;
}

.asuka .bg-green-100:hover {
  background-color: hsl(280 100% 45% / 0.8) !important;
}

.asuka .bg-yellow-50:hover {
  background-color: hsl(120 100% 35% / 0.8) !important;
}

/* Check-check button semantic styling */
.kanji-mark-known-btn {
  @apply px-2 py-1 text-xs rounded border transition-all flex-shrink-0;
  @apply bg-purple-300 hover:bg-purple-400 text-purple-800 border-purple-500 cursor-pointer !important;
}

/* Dark theme overrides */
.dark .kanji-mark-known-btn {
  @apply bg-purple-700/95 hover:bg-purple-600 text-purple-200 border-purple-500 !important;
}

/* Solarized dark theme overrides */
.solarized-dark .kanji-mark-known-btn {
  @apply bg-purple-700/90 hover:bg-purple-600/95 text-purple-200 border-purple-500 !important;
}

/* Solarized light theme overrides */
.solarized-light .kanji-mark-known-btn {
  @apply bg-purple-300 hover:bg-purple-400 text-purple-800 border-purple-500 !important;
}

/* Asuka theme overrides */
.asuka .kanji-mark-known-btn {
  @apply bg-red-500/90 hover:bg-red-400/95 text-red-50 border-red-600 !important;
}

/* Asuka theme tier indicator overrides */
.asuka [data-sidebar="menu-button"] .lucide-crown,
.asuka [data-sidebar="menu-button"] .lucide-user {
  color: white !important;
}

/* Ensure premium icon stays gold on Asuka theme */
.asuka [data-sidebar="menu-button"] .text-premium-icon {
  color: var(--premium-icon) !important;
}

/* Premium tier indicator overrides for sidebar context */
[data-sidebar="menu-button"] .bg-premium {
  background-color: var(--premium) !important;
}

[data-sidebar="menu-button"] .text-premium-foreground {
  color: var(--premium-foreground) !important;
}

/* Ensure premium colors work in sidebar context */
.bg-premium {
  background-color: var(--premium) !important;
}

.text-premium-foreground {
  color: var(--premium-foreground) !important;
}

.text-premium-icon {
  color: var(--premium-icon) !important;
}

/* Disabled state overrides (must come after theme overrides) */
.kanji-mark-known-btn:disabled {
  @apply bg-muted/90 text-muted-foreground border-border cursor-not-allowed opacity-80 !important;
}

/* Theme-specific disabled states */
.dark .kanji-mark-known-btn:disabled {
  @apply bg-muted/90 text-muted-foreground border-border cursor-not-allowed opacity-80 !important;
}

.solarized-dark .kanji-mark-known-btn:disabled {
  @apply bg-muted/90 text-muted-foreground border-border cursor-not-allowed opacity-80 !important;
}

.solarized-light .kanji-mark-known-btn:disabled {
  @apply bg-muted/90 text-muted-foreground border-border cursor-not-allowed opacity-80 !important;
}

/* Asuka theme disabled state - keep red styling */
.asuka .kanji-mark-known-btn:disabled {
  @apply bg-red-500/70 text-red-100 border-red-600 cursor-not-allowed opacity-80 !important;
}

/* Theme toggle button styling for better visibility across themes */
.theme-toggle-btn {
  @apply border border-border bg-card shadow-sm focus-visible:ring-0 focus-visible:outline-none !important;
}

/* Override focus ring color to be transparent */
.theme-toggle-btn:focus-visible {
  --tw-ring-color: transparent !important;
  box-shadow: none !important;
}

/* Theme-specific overrides for better contrast */
.dark .theme-toggle-btn {
  @apply bg-card/80 border-border/50;
}

.solarized-dark .theme-toggle-btn {
  @apply bg-card/90 border-border/60;
}

.solarized-light .theme-toggle-btn {
  @apply bg-card/95 border-border/70;
}

.asuka .theme-toggle-btn {
  @apply bg-card/90 border-border/50;
}
